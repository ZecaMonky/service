# Инструкция по установке и запуску проекта

## Требования

- Node.js (версия 14 или выше)
- npm (обычно устанавливается вместе с Node.js)

## Установка

1. Клонируйте репозиторий:
```bash
git clone [url-репозитория]
cd service-center
```

2. Установите зависимости:
```bash
npm install
```

3. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

4. Настройте переменные окружения в файле `.env`:
```env
PORT=3000
NODE_ENV=development
SESSION_SECRET=your-secret-key-here

# Настройки почты (опционально)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASS=your-password
```

5. Создайте директорию для загружаемых файлов:
```bash
mkdir -p public/uploads
```

6. Инициализируйте базу данных:
```bash
node src/config/init-db.js
```

## Запуск

### Режим разработки
```bash
npm run dev
```

### Продакшн режим
```bash
npm start
```

## Доступ к сайту

После запуска сайт будет доступен по адресу: http://localhost:3000

## Учетные данные администратора

После инициализации базы данных вы можете войти в админ-панель используя следующие учетные данные:

- Email: admin@service-center.ru
- Пароль: admin123

**Важно**: После первого входа рекомендуется изменить пароль администратора!

## Структура проекта

```
service-center/
├── src/
│   ├── app.js              # Основной файл приложения
│   ├── config/            # Конфигурационные файлы
│   ├── controllers/       # Контроллеры
│   ├── models/           # Модели данных
│   ├── routes/           # Маршруты
│   ├── views/            # Шаблоны
│   └── public/           # Статические файлы
├── public/
│   ├── css/             # Стили
│   ├── js/              # JavaScript файлы
│   └── uploads/         # Загружаемые файлы
├── .env                 # Переменные окружения
├── .env.example        # Пример переменных окружения
├── package.json        # Зависимости и скрипты
└── README.md           # Документация проекта
```

## Разработка

### Добавление новых маршрутов

1. Создайте новый файл в директории `src/routes/`
2. Добавьте маршруты в `src/app.js`

### Добавление новых шаблонов

1. Создайте новый файл в директории `src/views/`
2. Используйте существующие шаблоны как пример

### Работа с базой данных

- База данных SQLite находится в файле `database.sqlite`
- Для просмотра и редактирования данных можно использовать SQLite Browser
- Схема базы данных определена в `src/config/database.js`

## Решение проблем

### Ошибка подключения к базе данных

1. Проверьте права доступа к файлу `database.sqlite`
2. Убедитесь, что директория с базой данных существует и доступна для записи

### Ошибка загрузки файлов

1. Проверьте права доступа к директории `public/uploads`
2. Убедитесь, что в `.env` правильно настроены параметры загрузки

### Ошибка отправки email

1. Проверьте настройки SMTP в файле `.env`
2. Убедитесь, что указанные учетные данные корректны

## Безопасность

1. Всегда используйте HTTPS в продакшн режиме
2. Регулярно обновляйте зависимости
3. Храните секретные ключи в переменных окружения
4. Не храните пароли в открытом виде
5. Регулярно делайте резервные копии базы данных

## Лицензия

MIT 